<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>图片懒加载</title>
		<style type="text/css">
			.demo {
				text-align: center;
			}

			img {
				width: 130px;
				height: 140px;
			}
		</style>
	</head>
	<body>

		<div class="demo">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/1.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/2.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
			<img src="img/loding.gif" alt="图片丢失" data-src="img/3.jpg">
		</div>

		<script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
		<script type="text/javascript">
			$(function() {
				$(window).scroll(function() {
					handscroll();
				});

				function handscroll() {
					let imgs = $("img[data-src]");
					let bodyScrollHeight = document.body.scrollTop || document.documentElement.scrollTop;
					let windowHeight = window.innerHeight;
					for (let k = 0; k < imgs.length; k++) {
						let imgHeight = $(imgs[k]).offset().top;
						let imgData = $(imgs).eq(k).attr("data-src");
						if (imgHeight < (bodyScrollHeight + windowHeight) && imgHeight >= bodyScrollHeight) {
							setTimeout(function() {
								$(imgs).eq(k).attr("src", imgData);
							}, 1000);
						}
					}
				}
				// 页面默认加载图片
				handscroll();
			});
		</script>
	</body>
</html>
